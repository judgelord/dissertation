---
title: "Why Do Agencies (sometimes) Get So Much Mail?"
author: "Devin Judge-Lord"
date: false
output: 
   html_document:
    toc: true
    code_folding: hide
---

```{asis, include = FALSE} 
R -e "rmarkdown::render('whyMail.Rmd',output_file='whyMail.html')"
```

```{r global.options, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, 
                      cache = F, 
                      fig.width=8.5, fig.align = 'center', fig.path='Figs/',
                      warning=FALSE, message=FALSE)
```

```{r setup, include=FALSE}
source("setup.R")
```


# Abstract
Scholars of bureaucratic policymaking have focused on the sophisticated lobbying efforts of powerful interest groups. Yet agencies occasionally receive thousands or even millions of comments from ordinary people. Why? Why do individuals comment when they seemingly have no new information to offer and no power to influence decisions? Who inspires them and to what end? How, if at all, should scholars incorporate mass commenting into models of bureaucratic policymaking? I argue that mass commenting produces political information about the coalition that mobilized it. To link individual comments to the more sophisticated lobbying efforts they support, I use text reuse and topic models to identify clusters of similar comments, reflecting formal and informal coalitions. I also classify different types of supporters. Using these new measures of political mobilization and engagement in agency rulemaking, I identify the conditions under which mass comment campaigns occur and produce different types of politically-relevant information.

# Data
```{r data}
load("Data/AllRegsGov.Rdata")

# top mobilizers
top20orgs <- all$group_by(organization) %>% sumarize(numberOfComments) %>% top_n(20)

# overall counts
commentcount <- sum(all$numberOfComments)
RINcount <- length(unique(all$rin))

# Mass RINs are rules with over 100 identical comments
allmass <- filter(all, numberOfComments > 100)
masscommentcount <- sum(allmass$numberOfComments)
allmass %>% select(organization, numberOfComments) %>% arrange(numberOfComments) %>% top_n(200)

massRINs <- unique(allmass$rin)
length(massRINs)
massorgs <- unique(allmass$organization)
length(massorgs)

allmassRINs <- filter(all, rin %in% massRINs)
massRINcommentcount <- sum(allmassRINs$numberOfCommentsReceived)


```

### Regulations.gov records

I leverage a dataset of all `r commentcount` comments posted on regulations.gov. 
Of the `r RINcount` rulemaking processes on regulations.gov, `r openRINcount` accepted public comments and, of these, `r RINcount` recieved at least one comment. 

I use text reuse and topic models to identify comments that belong to same coalition, focusing on the `r length(massRINs)` rulemakings that saw a mass commenting campaign, which I define narrowly has 100 or more idendical comments. `r length(massorgs)` different organizations mobilized more than 100 identical comments, averaging over `r round(mean(allmass$numberOfComments))` per campaign. 

### Rules with mass commenting

### Organizations
`r top20orgs`

# Analysis



```{r save}
rm(all, allmassRINs)
 save.image(file = "whyMail.RData")
````