
## Results (hand-coded data) {#influence-results}

> IN PROGRESS

> Currently, these data only include rules where there was a mass-comment campaign, which likely explains why business coalitions are less successful than public interest coalitions. I anticipate the sign on that coeficient to be posive in the sample of rules that did not see a mass comment campaign. The contentious nature of this sample also means that there is no variation the `coalition_unopposed` variable (no coalitions in the sample with mass comment campaigns lobbied unoppossed).


### Hand-coded Data


**Dependent variable:** *Coalition success* is the mean of hand-coded lobbying success on a five-point scale ({-2, -1, 0, 1, 2}, recoded to {-1, -.5, 0, .5, 1} for more straightforward model interpretation). 

**Explanatory variables:** *Coalition size* (a count) is the number of organizations lobbying on the rule. *Business colation* is binomial. *Comments* is the total number of comments (including mass comments) mobilized by members of the coalition, which I transform to a log scale for modeling. 

Table \@ref(tab:data-coded) shows ten rows of coded data, summarized at the coalition level.

```{r data-coded}
load(here::here("data", "coalitions_coded.Rdata"))

d <- coalitions_coded %>% 
  drop_na(coalition_business) %>%
  filter(coalition_comment != "FALSE") %>% 
  distinct() %>% 
  dplyr::select(-coalitions)

d %>% group_by(docket_id) %>% sample_n(2, weight = comments) %>% dplyr::select(docket_id, coalition_id, everything()) %>% knitr::kable(caption = "Coded data") %>% kable_styling(latex_options = c("scale_down")) 
```

```{r hist-coalitions, fig.width=2, fig.height=2,  out.width = "30%"}
ggplot(d, aes(x = coalition_success)) + geom_histogram()+ labs(x = "Coalition Success")

ggplot(d) + aes(x = as.numeric(coalition_business)) + geom_histogram()+ labs(x = "Business Coalition")

ggplot(d, aes(x = coalition_size)) + geom_histogram()+ labs(x = "Coalition size")
```

```{r hist-comments,  fig.width=3, fig.height=2, out.width = "49%"}
#TODO
#ggplot(d, aes( x= comment_length)) + geom_histogram()+ labs(x = "% (Comment length/proposed rule length)*100")

ggplot(d, aes( x= log(comments))) + geom_histogram() + labs(x = "Log(comments)")
```

### Results

The results of this model (Figure \@ref(fig:model-success-plot), Table \@ref(tab:mediation)) show that ________. With lobbying success as the dependent variable, the coefficient on the main variable of interest would be interpreted as a $\beta_{logmasscomments}$ increase in the five-point influence scale of lobbying success for each one-unit increase in the logged number of comments.

```{r model-success}
m <- lm(coalition_success ~ 
          log(comments) + 
          #comment_length + 
          coalition_business +  
          coalition_size + 
          coalition_unopposed, 
        data = d) 
```

```{r model-success-plot,  fig.width=6, fig.height=2, out.width = "100%", fig.cap= "OLS model of coalition lobbying sucess with hand-coded data"}
m %>%
  tidy(conf.int = TRUE) %>% 
  filter(term != "(Intercept)") %>% 
  ggplot() + 
  geom_hline(yintercept = 0, color = "grey") + 
  aes(x = term, 
      y = estimate, 
      ymin = conf.low, 
      ymax = conf.high) + 
  geom_pointrange( )  + 
  coord_flip() +
  labs(y = "Lobbying Success", 
       x = "") 
```

To assess congressional support as a mediator in the influence of public pressure campaigns on rulemaking, I estimate the average conditional marginal effect (ACME, conditional on the number of comments from Members of Congress) and average direct effect (ADE) of mass comments using mediation analysis. Model 3 in table \@ref(tab:mediation) replaces the dependent varible (lobbying success) with the mediator variable (the number of supportive members of Congress). 

```{r mediation}
library(mediation)

# distinct obs
d %<>% filter(!is.na(coalition_success)) %>% distinct(cong_support, comments, coalition_business, coalition_size,coalition_unopposed,coalition_success) 

# model predicting mediator
model.m <- lm(cong_support ~  log(comments) + #comment_length +
                coalition_business+  coalition_size + coalition_unopposed, data = d) 

# model predicting DV
model.y <- lm(coalition_success ~ log(comments) + cong_support + #comment_length + 
                coalition_business+  coalition_size + coalition_unopposed, data = d) 

#med.cont <- mediate(model.m, model.y, sims=1000, treat = "log(comments)", mediator = "cong_support")

# summary(med.cont)

library(modelsummary)
models <- list(
  "1" = m,
  "2" = model.y,
  "3"  =  model.m
)

rows <- tibble(
  term = c("Dependent Variable"),
  `1` = c("Lobbying Success"), 
  `2` =c("Lobbying Success"), 
  `3`  = c("Members of Congress in Coalition")
)

# #broom::tidy(m_PR)
# cm = c("ej_commentTRUE" = "EJ Comment",
#        "log(comments + 1)" = "Log(Comments+1)",
#        "ej_comments_unique" = "Unique EJ Comments",
#        "ej_commentTRUE:log(comments + 1)" = "EJ Comment*Log(Comments+1)")

attr(rows, 'position') <- c(0)

# paper table 
modelsummary::modelsummary( models,
                            title = "Lobbying success and congressional support",
                            stars = TRUE, 
                            #coef_omit = "president.*|agency.*|Intercept", 
                            # coef_map = cm,
                          add_rows = rows, 
                          notes = "") %>% 
  row_spec(row = 1, bold = T) %>% kable_styling(latex_options = c("scale_down")) 

```

> Mediation  analysis will require adding cases where coalitions lobbied unopposed, which we are much more likely to see in the sample of rules without mass comments.

The average effect of the logged number of comments, conditional on letters from members of congress (the ACME) is `r round(med.cont$d.avg, 2)`, with a p value of `r round(med.cont$d0.p, 2)`.

The average direct effect (ADE) of the logged number of comments on lobbying success is `r round(med.cont$z0, 2)`, with a p value of `r round(med.cont$z0.p, 2)`

The Total Effect of a one-unit increase in the logged number of comments is `r round(med.cont$tau.coef, 2)`, with a p value of `r round(med.cont$tau.p, 2)`. `r round(med.cont$n0, 2)` of this is mediated through mobilizing congressional attention (p-value = `r round(med.cont$n0.p, 2)`).

### Preliminary findings

I find that more public pressure correlates with more congressional oversight. This includes comments from legislators both for and against proposed rules. For example, when the Department of the Treasury published draft rules implementing the Unlawful Internet Gambling Act of 2006, the proposal generated unusually high levels of public attention. As a result, two bipartisan groups of legislators submitted comments on the rule. One, led by the chair of the House Judiciary Subcommittee on Commercial and Administrative Law, raised concerns about the Department's implementation of the Administrative Procedures Act. The other group of legislators, led by Senator Mike Pence, pushed back against interest-group opposition to the rule and urged the Department to go forward with the implementing rules. This case illustrates several broader trends that I observe. Members of Congress are more likely to engage in oversight when interest groups and the public pay more attention to an issue. When legislators do engage in rulemaking, they often engage on both sides of the issue, raising process or policy concerns that may push agencies in multiple directions.


## Conclusion

> TODO
